<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<meta name="description" content="">
<meta name="author" content="">
<link rel="shortcut icon" href="{$Think.const.RESOURCE_URL}images/favicon.png" type="image/png">
<title>Bracket Responsive Bootstrap3 Admin</title>
<link rel="stylesheet" href="{$Think.const.RESOURCE_URL}css/my_style.css">
<link rel="stylesheet" href="{$Think.const.RESOURCE_URL}css/style.default.css">
<link rel="stylesheet" href="{$Think.const.RESOURCE_URL}css/bootstrap-timepicker.min.css" />
<link rel="stylesheet" href="{$Think.const.RESOURCE_URL}css/jquery.tagsinput.css" />
<link rel="stylesheet" href="{$Think.const.RESOURCE_URL}css/dropzone.css" />
<link rel="stylesheet" href="{$Think.const.RESOURCE_URL}css/jquery.datatables.css">


<link rel="stylesheet" href="{$Think.const.RESOURCE_URL}css/jquery.treegrid.css">
<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/default.min.css">
<include file="Common/common_js" />
  <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="{$Think.const.RESOURCE_URL}js/html5shiv.js"></script>
  <script src="{$Think.const.RESOURCE_URL}js/respond.min.js"></script>
  <![endif]-->
</head>

<body style="overflow: visible;">

<section>

<include file="Common/sidebar" />

<div class="mainpanel">

	<include file="Common/headbar" />

	<div class="contentpanel">

		<div class="row">

      <div class="col-md-11">
          <div class="panel-body">
              <a class="btn btn-warning" href="{:U("System/addMenu")}">添加菜单</a>
            </div>
          <div class="panel panel-info">
            <div class="panel-heading">
              <div class="panel-btns">
                <a href="" class="panel-close">&times;</a>
                <a href="" class="minimize">&minus;</a>
              </div><!-- panel-btns -->
              <h3 class="panel-title">菜单列表</h3>
            </div>
            
          </div><!-- panel -->
        </div><!-- col-sm-6 -->

      <div class="col-md-11">
            <div class="table-responsive">
                <table class="table tree-2 table-bordered table-striped table-condensed table table-info mb30">
                <thead>
                      <tr>
                        <th>菜单标题</th>
                        <th>是否导航显示</th>
                        <th>排序</th>
                        <th>操作</th>                        
                      </tr>
                    </thead>
                <foreach name="list" item="m">
                <tr class="treegrid-{$m.pid}">
                    <td>{$m.menu_title}</td>
                    <td><if condition="$m.is_show eq 1">是<else /><font color="red">未</font></if></td>
                    <td>{$m.order_weight}</td>
                    <td><a href="{:U("System/editMenu",array("menu_id"=>$m['pid']))}" data-toggle="modal" data-target=".bs-example-modal-panel">编辑</a></td>
                </tr>
                <assign name="children" value="$m.children" />
                <foreach name="children" item="submenu">
                  <tr class="treegrid-{$submenu.pid} treegrid-parent-{$m.pid}">
                    <td>{$submenu.menu_title}</td>
                    <td><if condition="$submenu.is_show eq 1">是<else /><font color="red">未</font></if></td>
                    <td>{$submenu.order_weight}</td>
                    <td><a href="{:U("System/editMenu",array("menu_id"=>$submenu['pid']))}" data-toggle="modal" data-target=".bs-example-modal-panel">编辑</a></td>
                </tr>
                </foreach>
                </foreach>       
            </table>  
            </div><!-- table-responsive -->
        </div>
		</div> <!-- end of row -->
	</div> <!-- end of contentpanel -->
</div> <!-- end of mainpanel -->

</section>

<div class="modal fade bs-example-modal-panel" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" id="myModal">
  <div class="modal-dialog">
    <div class="modal-content"></div>
  </div>
</div>

<script src="{$Think.const.RESOURCE_URL}js/modernizr.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/jquery.sparkline.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/toggles.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/retina.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/jquery.cookies.js"></script>

<script src="{$Think.const.RESOURCE_URL}js/holder.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/morris.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/raphael-2.1.0.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/jquery.autogrow-textarea.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/bootstrap-fileupload.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/bootstrap-timepicker.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/jquery.maskedinput.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/jquery.tagsinput.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/jquery.mousewheel.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/chosen.jquery.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/dropzone.min.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/colorpicker.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/custom.js"></script>
<script src="{$Think.const.RESOURCE_URL}js/my_custom.js"></script>
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script type="text/javascript" src="{$Think.const.RESOURCE_URL}js/jquery.treegrid.js"></script>
<script type="text/javascript" src="{$Think.const.RESOURCE_URL}js/jquery.treegrid.bootstrap3.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">

    $(document).ready(function() {
        $('.tree').treegrid();
        $('.tree-2').treegrid({
            expanderExpandedClass: 'glyphicon glyphicon-minus',
            expanderCollapsedClass: 'glyphicon glyphicon-plus'
        });

    });
</script>   

<script>
jQuery(document).ready(function(){
	// Chosen Select
    jQuery(".chosen-select").chosen({'width':'100%','white-space':'nowrap'});
});
</script>
</body>
</html>